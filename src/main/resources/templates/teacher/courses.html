<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <div th:insert="fragments/general.html :: head"></div>
    <title> Courses </title>
</head>
<body>
<header th:insert="fragments/general.html :: header">>
</header>


<article>
    <h2>Courses Page</h2>


    <div sec:authorize="hasRole('ROLE_TEACHER')">
        Hello, teacher!

        <div th:replace="fragments/tables.html :: addTask(task=${task},courses=${courses})">
        </div>

        <div>
            <ul style="list-style-type:none">
                <li th:each="course, aStat : ${courses}">
                    <table border="3">
                        <th th:text="${aStat.count}"></th>
                        <th th:text="${course.name}"></th>
                        <th th:text="'Credits: '+${course.credits}"></th>
                        <!--                <th>Actions</th>-->
                    </table>

                    <table border="2">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>Name</th>
                            <th>Description</th>
                            <th>Reference</th>
<!--                            <th>Status</th>-->
                            <!--                    <th>Comments</th>-->
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="task, aStat : ${course.tasks}">
                            <td th:text="${aStat.count}"></td>
                            <td th:text="${task.name}"></td>
                            <td th:text="${task.description}"></td>
                            <td>
                                <a th:href="@{${task.reference}}">Link</a>
                            </td>
<!--                            <td>-->
<!--                                <form th:action="@{/updateTaskStatus}">-->
<!--                                    <input type="hidden" th:name="taskID" th:value="${enrT.id}"/>-->
<!--                                    <button type="submit">-->
<!--                                        <a th:text="${enrT.status} ? 'Done' : 'In Progress' "></a>-->
<!--                                    </button>-->
<!--                                </form>-->
<!--                            </td>-->
                            <!--                    <td><textarea th:text="${enrT.comments} "></textarea></td>-->
                        </tr>
                        </tbody>
                    </table>
                    <br>
                </li>
            </ul>
        </div>
    </div>


</article>

<footer>

</footer>
</body>
</html>